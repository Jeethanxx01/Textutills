{"ast":null,"code":"'use strict';\n\nconst LRU = require('lru-cache').default;\nconst parserCache = new LRU({\n  max: 15000\n});\nfunction keyFromFields(type, fields, options, config) {\n  let res = `${type}` + `/${typeof options.nestTables}` + `/${options.nestTables}` + `/${options.rowsAsArray}` + `/${options.supportBigNumbers || config.supportBigNumbers}` + `/${options.bigNumberStrings || config.bigNumberStrings}` + `/${typeof options.typeCast}` + `/${options.timezone || config.timezone}` + `/${options.decimalNumbers}` + `/${options.dateStrings}`;\n  for (let i = 0; i < fields.length; ++i) {\n    const field = fields[i];\n    res += `/${field.name}:${field.columnType}:${field.length}:${field.schema}:${field.table}:${field.flags}:${field.characterSet}`;\n  }\n  return res;\n}\nfunction getParser(type, fields, options, config, compiler) {\n  const key = keyFromFields(type, fields, options, config);\n  let parser = parserCache.get(key);\n  if (parser) {\n    return parser;\n  }\n  parser = compiler(fields, options, config);\n  parserCache.set(key, parser);\n  return parser;\n}\nfunction setMaxCache(max) {\n  parserCache.max = max;\n}\nfunction clearCache() {\n  parserCache.clear();\n}\nmodule.exports = {\n  getParser: getParser,\n  setMaxCache: setMaxCache,\n  clearCache: clearCache\n};","map":{"version":3,"names":["LRU","require","default","parserCache","max","keyFromFields","type","fields","options","config","res","nestTables","rowsAsArray","supportBigNumbers","bigNumberStrings","typeCast","timezone","decimalNumbers","dateStrings","i","length","field","name","columnType","schema","table","flags","characterSet","getParser","compiler","key","parser","get","set","setMaxCache","clearCache","clear","module","exports"],"sources":["C:/Users/jeeth/node_modules/mysql2/lib/parsers/parser_cache.js"],"sourcesContent":["'use strict';\n\nconst LRU = require('lru-cache').default;\n\nconst parserCache = new LRU({\n  max: 15000\n});\n\nfunction keyFromFields(type, fields, options, config) {\n  let res =\n    `${type}` +\n    `/${typeof options.nestTables}` +\n    `/${options.nestTables}` +\n    `/${options.rowsAsArray}` +\n    `/${options.supportBigNumbers || config.supportBigNumbers}` +\n    `/${options.bigNumberStrings || config.bigNumberStrings}` +\n    `/${typeof options.typeCast}` +\n    `/${options.timezone || config.timezone}` +\n    `/${options.decimalNumbers}` +\n    `/${options.dateStrings}`;\n  for (let i = 0; i < fields.length; ++i) {\n    const field = fields[i];\n    res += `/${field.name}:${field.columnType}:${field.length}:${field.schema}:${field.table}:${field.flags}:${field.characterSet}`;\n  }\n  return res;\n}\n\nfunction getParser(type, fields, options, config, compiler) {\n  const key = keyFromFields(type, fields, options, config);\n  let parser = parserCache.get(key);\n\n  if (parser) {\n    return parser;\n  }\n\n  parser = compiler(fields, options, config);\n  parserCache.set(key, parser);\n  return parser;\n}\n\nfunction setMaxCache(max) {\n  parserCache.max = max;\n}\n\nfunction clearCache() {\n  parserCache.clear();\n}\n\nmodule.exports = {\n  getParser: getParser,\n  setMaxCache: setMaxCache,\n  clearCache: clearCache\n};\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,GAAG,GAAGC,OAAO,CAAC,WAAW,CAAC,CAACC,OAAO;AAExC,MAAMC,WAAW,GAAG,IAAIH,GAAG,CAAC;EAC1BI,GAAG,EAAE;AACP,CAAC,CAAC;AAEF,SAASC,aAAaA,CAACC,IAAI,EAAEC,MAAM,EAAEC,OAAO,EAAEC,MAAM,EAAE;EACpD,IAAIC,GAAG,GACL,GAAGJ,IAAI,EAAE,GACT,IAAI,OAAOE,OAAO,CAACG,UAAU,EAAE,GAC/B,IAAIH,OAAO,CAACG,UAAU,EAAE,GACxB,IAAIH,OAAO,CAACI,WAAW,EAAE,GACzB,IAAIJ,OAAO,CAACK,iBAAiB,IAAIJ,MAAM,CAACI,iBAAiB,EAAE,GAC3D,IAAIL,OAAO,CAACM,gBAAgB,IAAIL,MAAM,CAACK,gBAAgB,EAAE,GACzD,IAAI,OAAON,OAAO,CAACO,QAAQ,EAAE,GAC7B,IAAIP,OAAO,CAACQ,QAAQ,IAAIP,MAAM,CAACO,QAAQ,EAAE,GACzC,IAAIR,OAAO,CAACS,cAAc,EAAE,GAC5B,IAAIT,OAAO,CAACU,WAAW,EAAE;EAC3B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGZ,MAAM,CAACa,MAAM,EAAE,EAAED,CAAC,EAAE;IACtC,MAAME,KAAK,GAAGd,MAAM,CAACY,CAAC,CAAC;IACvBT,GAAG,IAAI,IAAIW,KAAK,CAACC,IAAI,IAAID,KAAK,CAACE,UAAU,IAAIF,KAAK,CAACD,MAAM,IAAIC,KAAK,CAACG,MAAM,IAAIH,KAAK,CAACI,KAAK,IAAIJ,KAAK,CAACK,KAAK,IAAIL,KAAK,CAACM,YAAY,EAAE;EACjI;EACA,OAAOjB,GAAG;AACZ;AAEA,SAASkB,SAASA,CAACtB,IAAI,EAAEC,MAAM,EAAEC,OAAO,EAAEC,MAAM,EAAEoB,QAAQ,EAAE;EAC1D,MAAMC,GAAG,GAAGzB,aAAa,CAACC,IAAI,EAAEC,MAAM,EAAEC,OAAO,EAAEC,MAAM,CAAC;EACxD,IAAIsB,MAAM,GAAG5B,WAAW,CAAC6B,GAAG,CAACF,GAAG,CAAC;EAEjC,IAAIC,MAAM,EAAE;IACV,OAAOA,MAAM;EACf;EAEAA,MAAM,GAAGF,QAAQ,CAACtB,MAAM,EAAEC,OAAO,EAAEC,MAAM,CAAC;EAC1CN,WAAW,CAAC8B,GAAG,CAACH,GAAG,EAAEC,MAAM,CAAC;EAC5B,OAAOA,MAAM;AACf;AAEA,SAASG,WAAWA,CAAC9B,GAAG,EAAE;EACxBD,WAAW,CAACC,GAAG,GAAGA,GAAG;AACvB;AAEA,SAAS+B,UAAUA,CAAA,EAAG;EACpBhC,WAAW,CAACiC,KAAK,CAAC,CAAC;AACrB;AAEAC,MAAM,CAACC,OAAO,GAAG;EACfV,SAAS,EAAEA,SAAS;EACpBM,WAAW,EAAEA,WAAW;EACxBC,UAAU,EAAEA;AACd,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}